{% extends "base_menu.html" %}

{% block content %}

{% if form %}
    <form action="" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_table }}
    <input type="submit" value="Submit"
        class="btn btn-outline-success m-2">
    <input type="submit" value="Cancel &nbsp;&raquo;&nbsp; return to menu"
        class="btn btn-outline-danger m-2 text-dark"
        onclick="window.location.href='{% url 'index' %}';return false">
    </form>
{% endif %}

{% if message %}
    <p class="p-3">{{ message|safe }}</p>
{% endif %}

{% if db %}
<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th scope="col">Country</th>
            <th scope="col">Capital</th>
            <th scope="col">Country Code</th>
            <th scope="col">Hint</th>
            <th scope="col">Primary Key</th>
        </tr>
    </thead>
    <tbody>
    {% for c in db %}
        <tr>
            <td>{{ c.country }}</td>
            <td>{{c.capital}}</td>
            <td>{{c.country_code}}</td>
            <td>{{c.hint}}</td>
            <td>{{c.pk}}</td>
        </tr> 
    {% empty %}
        <p>No countries have been added to the database.</p>
    {% endfor %}
    </tbody>
</table>
{% endif %}

{% endblock content %}